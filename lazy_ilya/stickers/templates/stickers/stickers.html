{% extends 'file_creator/base.html' %}
{% load static %}
{% block title %}
    –ó–∞–º–µ—Ç–∫–∏
{% endblock %}
{% block body %}


    <div class="container mx-auto py-6 px-4 space-y-4">
        <div id="server-error" class="hidden common_error"
             role="alert">
            <svg class="shrink-0 inline size-5 md:size-7 me-3" aria-hidden="true"
                 xmlns="http://www.w3.org/2000/svg"
                 fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"></path>
            </svg>
            <span class="sr-only">Info</span>
            <div>
                <span class="!font-bold">Danger alert!</span>
                <p>Change a few things up and try submitting again.</p>
            </div>
        </div>
        <div id="server-info" class="hidden common_info"
             role="info">
            <svg class="shrink-0 inline size-5 md:size-7 me-3" aria-hidden="true"
                 xmlns="http://www.w3.org/2000/svg"
                 fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"></path>
            </svg>
            <span class="sr-only">Info</span>
            <div>
                <span class="!font-bold">Info alert!</span>
                <h3 class="text-text dark:text-text-dark">–°–æ–æ–±—â–µ–Ω–∏–µ</h3>
                <p class="text-text dark:text-text-dark">Change a few things up and try submitting again.</p>
                <div id="btn-div" class="flex justify-center gap-3 mt-3">

                </div>
            </div>
        </div>
        <h2 class="text-center">üìå –ú–æ—è –¥–æ—Å–∫–∞</h2>
        <!-- Header -->
        <div class="flex justify-between items-center mb-4">

            <div class="flex gap-2">
                <button id="btn-notes" class="btn-submit">–°—Ç–∏–∫–µ—Ä—ã
                </button>
                <button id="btn-tasks" class="btn-submit">–ó–∞–¥–∞—á–∏
                </button>
            </div>
        </div>

        <!-- Notes Board -->
        <div id="note-board"
             class="relative  min-h-[400px]  border-b-2 border-b-accent transition-all">
            {% csrf_token %}
            <!-- –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∏–∫–µ—Ä–æ–≤ -->
        </div>

        <!-- Tasks Board -->
        <div id="task-board" class=" grid grid-cols-1  md:grid-cols-3 gap-4 min-h-[400px] transition-opacity">
            <!-- –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–¥–∞—á -->
            <div class="task-card bg-white p-4  border-l-20 border-l-lime-500 rounded-xl shadow relative flex flex-col">
                <h3 class="text-lg font-semibold mb-1">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
                <p class="text-sm text-gray-600 flex-grow">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏.</p>
                <div class="mt-2 text-xs text-gray-400">–°—Ä–æ–∫: 2025-06-01</div>
                <button class="delete-btn absolute top-2 right-2 text-red-500 hover:text-red-700">√ó</button>
            </div>

        </div>
    </div>

    <!-- Add button -->
    <button id="add-card"
            class="add-button">
        +
    </button>

{% endblock %}
{% block extra_js %}
    {% if VITE_DEV_MODE %}
        <script type="module" src="http://localhost:5173/src/stickers/js/start.js"></script>
    {% else %}
        <script type="module" crossorigin src="{% static 'stickers/js/start.js' %}"></script>
    {% endif %}
    <script>

        window.username = "{{ user.username|default:user.first_name }}"
        window.notes_data = JSON.parse('{{ notes_data|escapejs }}')
        window.username_data = JSON.parse('{{ username_list|escapejs }}')
        console.log(username)
        console.log(notes_data)
        console.log(username_data)
    </script>

{% endblock %}