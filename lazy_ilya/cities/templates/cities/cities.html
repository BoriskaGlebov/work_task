{% extends "file_creator/base.html" %}
{% load static %}

{% block title %}
    Работа с городами
{% endblock %}

{% block body %}
    <div class="pt-[5%]">
        <div class="md:w-full w-sm md:max-w-[75%] space-y-5 mx-auto">
            <h2 class="text-center">Поиск по городам</h2>
            <p id="counter" class="w-sm mx-auto mt-5 text-center text-text dark:text-text-dark hidden">Найдено
                совпадений</p>
            <form class="w-full" onsubmit="return false;">
                <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Search</label>
                <div class="relative">
                    <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                        <!-- SVG иконка -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                             stroke="currentColor" class="size-6 correct_icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                  d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path>
                        </svg>
                    </div>

                    <input type="search" id="default-search"
                           class="ps-12 w-full correct_input"
                           placeholder="Введи какой-то адресок" required autocomplete="off"/>

                    <ul id="suggestions"
                        class="absolute z-10 bg-white border border-gray-300 w-full max-h-48 overflow-y-auto hidden"></ul>
                </div>
            </form>
        </div>
    </div>



    <div id="city-cards" class="mt-10 grid grid-cols-1 lg:grid-cols-2 gap-y-3 gap-x-5 "></div>

    <div id="city-modal"
         class="hidden fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-xl w-[90%] max-w-lg">
            <form class="space-y-3">
                <input id="modal-location" type="text" placeholder="Город" class="w-full border p-2 rounded"/>
                <input id="modal-name_organ" type="text" placeholder="Организация" class="w-full border p-2 rounded"/>
                <input id="modal-pseudonim" type="text" placeholder="Псевдоним" class="w-full border p-2 rounded"/>
                <input id="modal-work_time" type="text" placeholder="Время работы" class="w-full border p-2 rounded"/>
                <input id="modal-table_id" type="text" placeholder="Номер раздела" class="w-full border p-2 rounded"/>
                <input id="modal-some_number" type="text" placeholder="Номер в таблице"
                       class="w-full border p-2 rounded"/>
                <input id="modal-ip_address" type="text" placeholder="IP address" class="w-full border p-2 rounded"/>
            </form>
            <div class="flex justify-end gap-3 mt-4">
                <button id="save-city" class="bg-blue-600 text-white px-4 py-2 rounded">Сохранить</button>
                <button id="delete-city" class="bg-red-600 text-white px-4 py-2 rounded">Удалить</button>
                <button id="close-modal" class="bg-gray-400 text-white px-4 py-2 rounded">Отмена</button>
            </div>
        </div>
    </div>



{% endblock %}
{% block extra_js %}
    {% if VITE_DEV_MODE %}
        <script type="module" src="http://localhost:5173/src/cities/js/main.js"></script>
    {% else %}
        <script type="module" crossorigin src="{% static 'cities/js/main.js' %}"></script>
    {% endif %}
    <script>
        window.citiesData = JSON.parse('{{ cities_json|escapejs }}');
    </script>

{% endblock %}
